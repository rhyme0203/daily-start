<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Daily Start â€” Mobile (1 Page = 1 Card)</title>
  <style>
    :root{
      --primary:#4F8EF7;      /* Jeomsin-ish point */
      --bg:#F6F7FB;
      --text:#16202A;
      --muted:#6B7683;
      --card:#ffffff;
      --radius:18px;
      --shadow:0 10px 30px rgba(22,32,42,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Apple SD Gothic Neo,Noto Sans KR,Helvetica,Arial,sans-serif;
      color:var(--text);
      background:linear-gradient(180deg,#ffffff, var(--bg));
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Phone viewport */
    .app{
      width:100%;
      max-width:420px;
      height:100dvh;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      overflow:hidden;
      background:transparent;
    }

    /* Sticky header */
    .header{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 16px;
      background:rgba(255,255,255,0.85);
      backdrop-filter:saturate(150%) blur(6px);
      border-bottom:1px solid #eef1f5;
      z-index:5;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800; letter-spacing:0.2px;
    }
    .logo{
      width:28px; height:28px; border-radius:10px;
      background: radial-gradient(120% 120% at 20% 20%, #8AB8FF 0%, #4F8EF7 50%, #2C5BD6 100%);
      box-shadow: inset 0 2px 6px rgba(255,255,255,.6), 0 2px 8px rgba(79,142,247,.35);
    }
    .date{font-size:12px; color:var(--muted)}

    /* Slides area = viewport */
    .viewport{
      position:relative;
      flex:1 1 auto;
      overflow:hidden;
    }
    .track{
      height:100%;
      width:100%;
      display:flex;
      transition:transform .45s cubic-bezier(.22,.61,.36,1);
      will-change:transform;
      touch-action:pan-y;
    }
    .slide{
      flex:0 0 100%;
      height:100%;
      padding:18px 16px 88px; /* leave room for footer controls */
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .card{
      width:100%;
      height:100%;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:14px;
      animation: rise .45s ease both;
    }
    @keyframes rise{from{transform:translateY(8px);opacity:.0}to{transform:none;opacity:1}}

    .card-head{
      display:flex; align-items:center; justify-content:space-between;
    }
    .title{
      display:flex; align-items:center; gap:10px;
      font-size:17px; font-weight:700;
    }
    .pill{
      font-size:11px; color:#2f5bd6; background:#ecf3ff; padding:6px 10px; border-radius:999px;
    }
    .subtitle{font-size:13px;color:var(--muted)}

    .row{background:#F4F6FA;border:1px solid #E6ECF5;padding:12px 12px;border-radius:12px}
    .row + .row{margin-top:8px}
    .kpi{display:flex; align-items:baseline; gap:8px}
    .kpi .num{font-size:36px; font-weight:800}
    .kpi .unit{font-size:14px; color:var(--muted)}

    /* Icons (inline SVG style) */
    .ico{width:26px;height:26px;border-radius:8px;display:inline-grid;place-items:center;background:#eef1ff}
    .ico svg{width:18px;height:18px;stroke:#2C5BD6}

    /* Footer controls */
    .footer{
      position:absolute; left:0; right:0; bottom:0;
      display:flex; flex-direction:column; align-items:center; gap:10px;
      padding:12px 16px 16px;
      background:linear-gradient(180deg,rgba(246,247,251,0), rgba(246,247,251,.95) 45%, rgba(246,247,251,1) 100%);
      z-index:4;
    }
    .dots{display:flex; gap:8px}
    .dot{width:8px;height:8px;border-radius:999px;background:#c9d3e3; transition:all .3s}
    .dot.active{width:22px;background:var(--primary)}
    .actions{display:flex; gap:10px}
    .btn{
      border:none; cursor:pointer;
      padding:12px 14px; border-radius:12px;
      background:#e9eef8; color:#1b2a3c; font-weight:700; font-size:14px;
      box-shadow:inset 0 -2px 0 rgba(0,0,0,.03);
    }
    .btn.primary{background:var(--primary); color:#fff; box-shadow:0 8px 18px rgba(79,142,247,.35)}
    .btn:active{transform:translateY(1px)}

    /* Reduce motion preference */
    @media (prefers-reduced-motion: reduce){
      .track{transition:none}
      .card{animation:none}
    }
  </style>
</head>
<body>
  <main class="app" aria-label="Daily Start Mobile">
    <header class="header">
      <div class="brand">
        <div aria-hidden="true" class="logo"></div>
        <div>
          <div>Daily Start</div>
          <div class="date" id="dateLabel">â€”</div>
        </div>
      </div>
      <div class="ico" aria-label="ì•Œë¦¼">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8a6 6 0 1 0-12 0c0 7-3 8-3 8h18s-3-1-3-8"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </div>
    </header>

    <section class="viewport" aria-live="polite">
      <div class="track" id="track" style="transform:translateX(0%)">
        <!-- Slide 1: Weather -->
        <article class="slide" role="group" aria-roledescription="slide" aria-label="1 / 4 â€” ì˜¤ëŠ˜ì˜ ë‚ ì”¨">
          <div class="card">
            <div class="card-head">
              <div class="title">
                <span class="ico" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                  </svg>
                </span>
                ì˜¤ëŠ˜ì˜ ì¼ê¸°ì˜ˆë³´
              </div>
              <span class="pill">ì„œìš¸</span>
            </div>
            <div class="row kpi">
              <div class="num">23</div><div class="unit">Â°C Â· ë§‘ìŒ</div>
            </div>
            <div class="row">ì²´ê° 24Â°C Â· ê°•ìˆ˜í™•ë¥  10% Â· ë¯¸ì„¸ë¨¼ì§€ ë³´í†µ</div>
            <div class="row">ìš°ì‚°ì€ í•„ìš” ì—†ì–´ìš” â˜€ï¸</div>
          </div>
        </article>

        <!-- Slide 2: Fortune -->
        <article class="slide" role="group" aria-roledescription="slide" aria-label="2 / 4 â€” ì˜¤ëŠ˜ì˜ ìš´ì„¸">
          <div class="card">
            <div class="card-head">
              <div class="title">
                <span class="ico" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="8" r="3"></circle>
                    <path d="M5 20c2-5 12-5 14 0"></path>
                  </svg>
                </span>
                ì˜¤ëŠ˜ì˜ ìš´ì„¸
              </div>
              <span class="pill">ì–‘ìë¦¬</span>
            </div>
            <div class="row">ì´ìš´: ì‘ì€ ìš©ê¸°ê°€ í° ê¸°íšŒë¥¼ ë¶€ë¦…ë‹ˆë‹¤.</div>
            <div class="row">ì—°ì• ìš´: ì†”ì§í•œ í‘œí˜„ì´ í˜¸ê°ì„ ë†’ì—¬ìš”.</div>
            <div class="row">ê¸ˆì „ìš´: ì§€ì¶œì„ í•œ ë²ˆ ë” ì ê²€í•˜ì„¸ìš”.</div>
          </div>
        </article>

        <!-- Slide 3: News -->
        <article class="slide" role="group" aria-roledescription="slide" aria-label="3 / 4 â€” ì£¼ìš” ë‰´ìŠ¤">
          <div class="card">
            <div class="card-head">
              <div class="title">
                <span class="ico" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="14" rx="2"></rect>
                    <path d="M7 8h10M7 12h10M7 16h6"></path>
                  </svg>
                </span>
                ì£¼ìš” ë‰´ìŠ¤ í—¤ë“œë¼ì¸
              </div>
              <span class="pill">ì˜¤ëŠ˜</span>
            </div>
            <div class="row">[ì‚¬íšŒ] í—¤ë“œë¼ì¸ 1 â€” ê°„ë‹¨ ìš”ì•½ í…ìŠ¤íŠ¸</div>
            <div class="row">[ê²½ì œ] í—¤ë“œë¼ì¸ 2 â€” ê°„ë‹¨ ìš”ì•½ í…ìŠ¤íŠ¸</div>
            <div class="row">[IT] í—¤ë“œë¼ì¸ 3 â€” ê°„ë‹¨ ìš”ì•½ í…ìŠ¤íŠ¸</div>
          </div>
        </article>

        <!-- Slide 4: Community -->
        <article class="slide" role="group" aria-roledescription="slide" aria-label="4 / 4 â€” ì»¤ë®¤ë‹ˆí‹°">
          <div class="card">
            <div class="card-head">
              <div class="title">
                <span class="ico" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"></path>
                  </svg>
                </span>
                ì»¤ë®¤ë‹ˆí‹° í´ë¦¬í•‘
              </div>
              <span class="pill">Top</span>
            </div>
            <div class="row">ì¸ê¸°ê¸€: ì¶œê·¼ê¸¸ í•˜ëŠ˜ì´ ì˜ˆë»ìš” â˜ï¸</div>
            <div class="row">ì¶”ì²œê¸€: ì—…ë¬´ ë£¨í‹´ ë§Œë“œëŠ” ë²•</div>
            <div class="row">í† í”½: ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´ ëª¨ìŒ</div>
          </div>
        </article>
      </div>

      <!-- Footer Controls -->
      <div class="footer" aria-label="í˜ì´ì§€ ì „í™˜ ë²„íŠ¼">
        <div class="dots" id="dots" role="tablist" aria-label="í˜ì´ì§€ ì¸ë””ì¼€ì´í„°">
          <div class="dot active" role="tab" aria-selected="true" aria-controls="slide-1"></div>
          <div class="dot" role="tab" aria-selected="false" aria-controls="slide-2"></div>
          <div class="dot" role="tab" aria-selected="false" aria-controls="slide-3"></div>
          <div class="dot" role="tab" aria-selected="false" aria-controls="slide-4"></div>
        </div>
        <div class="actions">
          <button class="btn" id="prevBtn" aria-label="ì´ì „ ì¹´ë“œ">ì´ì „</button>
          <button class="btn primary" id="nextBtn" aria-label="ë‹¤ìŒ ì¹´ë“œ">ë‹¤ìŒ</button>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Date label
    const dl = document.getElementById('dateLabel');
    try{
      const d = new Date();
      dl.textContent = d.toLocaleDateString('ko-KR',{weekday:'long', month:'long', day:'numeric'});
    }catch(e){ dl.textContent = ''; }

    const track = document.getElementById('track');
    const dots = Array.from(document.querySelectorAll('.dot'));
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    const total = document.querySelectorAll('.slide').length;
    let index = 0;

    function update(){
      track.style.transform = `translateX(-${index * 100}%)`;
      dots.forEach((d,i)=>{
        d.classList.toggle('active', i===index);
        d.setAttribute('aria-selected', i===index ? 'true' : 'false');
      });
    }

    prevBtn.addEventListener('click', ()=>{ index = (index-1+total)%total; update(); });
    nextBtn.addEventListener('click', ()=>{ index = (index+1)%total; update(); });

    dots.forEach((d,i)=> d.addEventListener('click', ()=>{ index = i; update(); }));

    // Touch / Pointer swipe
    let startX = 0, deltaX = 0, dragging = false;
    const threshold = 48; // px
    const viewport = document.querySelector('.viewport');

    function onDown(x){ dragging = true; startX = x; deltaX = 0; track.style.transition = 'none'; }
    function onMove(x){
      if(!dragging) return;
      deltaX = x - startX;
      track.style.transform = `translateX(calc(-${index*100}% + ${deltaX}px))`;
    }
    function onUp(){
      if(!dragging) return;
      track.style.transition = '';
      if(Math.abs(deltaX) > threshold){
        if(deltaX < 0) index = (index+1)%total;
        else index = (index-1+total)%total;
      }
      update(); dragging = false; deltaX = 0;
    }

    // Support pointer/touch
    viewport.addEventListener('pointerdown', e => onDown(e.clientX));
    window.addEventListener('pointermove', e => onMove(e.clientX));
    window.addEventListener('pointerup', onUp);

    // Touch events fallback (older browsers)
    viewport.addEventListener('touchstart', e => onDown(e.touches[0].clientX), {passive:true});
    viewport.addEventListener('touchmove', e => onMove(e.touches[0].clientX), {passive:true});
    viewport.addEventListener('touchend', onUp);

    // Keyboard nav
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight') { index=(index+1)%total; update(); }
      if(e.key === 'ArrowLeft')  { index=(index-1+total)%total; update(); }
    });

    // Weather API
    let weatherData = null;
    
    async function fetchWeatherData() {
      try {
        // Get user location
        const position = await new Promise((resolve, reject) => {
          navigator.geolocation.getCurrentPosition(resolve, reject);
        });
        
        const { latitude, longitude } = position.coords;
        
        // Fetch weather data from wttr.in
        const response = await fetch(`https://wttr.in/${latitude},${longitude}?format=j1`);
        const data = await response.json();
        
        weatherData = {
          temperature: Math.round(parseInt(data.current_condition[0].temp_C)),
          condition: data.current_condition[0].weatherDesc[0].value,
          feelsLike: Math.round(parseInt(data.current_condition[0].FeelsLikeC)),
          humidity: parseInt(data.current_condition[0].humidity),
          windSpeed: parseInt(data.current_condition[0].windspeedKmph),
          location: data.nearest_area[0].areaName[0].value
        };
        
        updateWeatherDisplay();
      } catch (error) {
        console.error('ë‚ ì”¨ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
        // ê¸°ë³¸ê°’ ì„¤ì •
        weatherData = {
          temperature: 23,
          condition: 'ë§‘ìŒ',
          feelsLike: 24,
          humidity: 60,
          windSpeed: 10,
          location: 'ì„œìš¸'
        };
        updateWeatherDisplay();
      }
    }
    
    function updateWeatherDisplay() {
      if (!weatherData) return;
      
      // ì˜¨ë„ ì—…ë°ì´íŠ¸
      const tempElement = document.querySelector('.kpi .num');
      const unitElement = document.querySelector('.kpi .unit');
      const pillElement = document.querySelector('.slide .pill');
      
      if (tempElement) tempElement.textContent = weatherData.temperature;
      if (unitElement) unitElement.textContent = `Â°C Â· ${weatherData.condition}`;
      if (pillElement) pillElement.textContent = weatherData.location;
      
      // ë‚ ì”¨ ì •ë³´ ì—…ë°ì´íŠ¸
      const rows = document.querySelectorAll('.slide .row');
      if (rows[1]) {
        rows[1].textContent = `ì²´ê° ${weatherData.feelsLike}Â°C Â· ìŠµë„ ${weatherData.humidity}% Â· ë°”ëŒ ${weatherData.windSpeed}km/h`;
      }
      if (rows[2]) {
        const message = weatherData.condition.includes('ë§‘ìŒ') || weatherData.condition.includes('Clear') 
          ? 'ìš°ì‚°ì€ í•„ìš” ì—†ì–´ìš” â˜€ï¸'
          : weatherData.condition.includes('ë¹„') || weatherData.condition.includes('Rain')
          ? 'ìš°ì‚°ì„ ì±™ê¸°ì„¸ìš” â˜”'
          : 'ì ë‹¹í•œ ì˜·ì°¨ë¦¼ì„ í•˜ì„¸ìš” ğŸ‘•';
        rows[2].textContent = message;
      }
    }

    // Initialize
    update();
    
    // Load weather data
    fetchWeatherData();
  </script>
</body>
</html>
